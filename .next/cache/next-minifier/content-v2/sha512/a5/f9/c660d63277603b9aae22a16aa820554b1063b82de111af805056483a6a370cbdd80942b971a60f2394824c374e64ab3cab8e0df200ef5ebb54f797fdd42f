{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{RrE2:function(e,l,a){\"use strict\";a.r(l);var n=a(\"o0o1\"),o=a.n(n),r=a(\"HaE+\"),t=a(\"KQm4\"),i=a(\"ODXe\"),s=a(\"h4VS\"),d=a(\"q1tI\"),u=a.n(d),m=a(\"5Yp1\"),p=a(\"KYPV\"),c=a(\"UGp+\"),b=a(\"UYTu\"),h=a(\"pZLH\"),f=a(\"nOHt\"),g=u.a.createElement;function v(){var e=Object(s.a)([\"\\n      query obtenerClientesVendedor {\\n        obtenerClientesVendedor{\\n          id\\n          nombre\\n          apellido\\n          empresa\\n          email\\n        }\\n      }\\n\"]);return v=function(){return e},e}function x(){var e=Object(s.a)([\"\\n    mutation nuevoCliente($input: ClienteInput){\\n        nuevoCliente(input: $input){\\n            id\\n            nombre \\n            apellido\\n            empresa\\n            email\\n            telefono\\n        }\\n    }\\n\"]);return x=function(){return e},e}var w=Object(b.a)(x()),y=Object(b.a)(v());l.default=function(){var e=Object(d.useState)(null),l=e[0],a=e[1],n=Object(f.useRouter)(),s=Object(h.a)(w,{update:function(e,l){var a=l.data.nuevoCliente,n=e.readQuery({query:y}).obtenerClientesVendedor;e.writeQuery({query:y,data:{obtenerClientesVendedor:[].concat(Object(t.a)(n),[a])}})}}),b=Object(i.a)(s,1)[0],v=Object(p.b)({initialValues:{nombre:\"\",apellido:\"\",empresa:\"\",email:\"\",telefono:\"\"},validationSchema:c.b({nombre:c.c().required(\"El nombre del cliente es obligatorio\"),apellido:c.c().required(\"El apellido del cliente es obligatorio\"),empresa:c.c().required(\"El campo empresa es obligatorio\"),email:c.c().email(\"Email no v\\xe1lido\").required(\"El email del cliente es obligatorio\")}),onSubmit:function(){var e=Object(r.a)(o.a.mark((function e(l){var r,t,i,s,d,u,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.nombre,t=l.apellido,i=l.empresa,s=l.email,d=l.telefono,console.log(l),e.prev=2,e.next=5,b({variables:{input:{nombre:r,apellido:t,empresa:i,email:s,telefono:d}}});case 5:u=e.sent,m=u.data,console.log(m.nuevoCliente),n.push(\"/\"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),a(e.t0.message.replace(\"GraphQL error\",\"\")),setTimeout((function(){a(null)}),3e3);case 15:case\"end\":return e.stop()}}),e,null,[[2,11]])})));return function(l){return e.apply(this,arguments)}}()});return g(u.a.Fragment,null,g(m.a,null,g(\"h1\",{className:\"text-2xl text-gray-800 font-light\"},\"Nuevo Cliente\"),l&&g(\"div\",{className:\"bg-white py-2 px-3 w-full my-3 max-w-sm text-center mx-auto\"},g(\"p\",null,l)),g(\"div\",{className:\"flex justify-center mt-5\"},g(\"div\",{className:\"w-full max-w-lg\"},g(\"form\",{className:\"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\",onSubmit:v.handleSubmit},g(\"div\",{className:\"mb-4\"},g(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"nombre\"},\"Nombre\"),g(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"nombre\",type:\"text\",placeholder:\"Nombre Cliente\",onChange:v.handleChange,onBlur:v.handleBlur,value:v.values.nombre})),v.touched.nombre&&v.errors.nombre?g(\"div\",{className:\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\"},g(\"p\",{className:\"font-bold\"},\"Error\"),g(\"p\",null,\" \",v.errors.nombre)):null,g(\"div\",{className:\"mb-4\"},g(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"apellido\"},\"Apellido\"),g(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"apellido\",type:\"text\",placeholder:\"Apellido Cliente\",onChange:v.handleChange,onBlur:v.handleBlur,value:v.values.apellido})),v.touched.apellido&&v.errors.apellido?g(\"div\",{className:\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\"},g(\"p\",{className:\"font-bold\"},\"Error\"),g(\"p\",null,\" \",v.errors.apellido)):null,g(\"div\",{className:\"mb-4\"},g(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"empresa\"},\"Empresa\"),g(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"empresa\",type:\"text\",placeholder:\"Empresa Cliente\",onChange:v.handleChange,onBlur:v.handleBlur,value:v.values.empresa})),v.touched.empresa&&v.errors.empresa?g(\"div\",{className:\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\"},g(\"p\",{className:\"font-bold\"},\"Error\"),g(\"p\",null,\" \",v.errors.empresa)):null,g(\"div\",{className:\"mb-4\"},g(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"email\"},\"Email\"),g(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"email\",type:\"email\",placeholder:\"Email Cliente\",onChange:v.handleChange,onBlur:v.handleBlur,value:v.values.email})),v.touched.email&&v.errors.email?g(\"div\",{className:\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\"},g(\"p\",{className:\"font-bold\"},\"Error\"),g(\"p\",null,\" \",v.errors.email)):null,g(\"div\",{className:\"mb-4\"},g(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"telefono\"},\"Tel\\xe9fono\"),g(\"input\",{className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"telefono\",type:\"tel\",placeholder:\"Tel\\xe9fono Cliente\",onChange:v.handleChange,onBlur:v.handleBlur,value:v.values.telefono})),g(\"input\",{type:\"submit\",className:\"bg-gray-800 w-full mt-5 p-2 text-white uppercase font-bold hover:bg-gray-900\",value:\"Registrar Cliente\"}))))))}},fWwd:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/nuevocliente\",function(){return a(\"RrE2\")}])}},[[\"fWwd\",0,2,1,3,4,5,7]]]);","extractedComments":[]}