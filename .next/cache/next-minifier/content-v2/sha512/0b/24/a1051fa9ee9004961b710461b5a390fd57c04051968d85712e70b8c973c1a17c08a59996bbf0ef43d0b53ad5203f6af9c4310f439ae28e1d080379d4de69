{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{HGzH:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/productos\",function(){return n(\"KPrw\")}])},KPrw:function(e,t,n){\"use strict\";n.r(t);var r=n(\"h4VS\"),o=n(\"q1tI\"),a=n.n(o),c=n(\"5Yp1\"),i=n(\"UYTu\"),u=n(\"+TN3\"),s=n(\"o0o1\"),l=n.n(s),d=n(\"HaE+\"),p=n(\"ODXe\"),m=n(\"pZLH\"),b=n(\"nOHt\"),f=n.n(b),w=n(\"PSD3\"),x=n.n(w),h=a.a.createElement;function y(){var e=Object(r.a)([\"\\n    query obtenerProductos{\\n        obtenerProductos{\\n            id\\n            nombre\\n            precio\\n            existencia\\n        }\\n    }\\n\"]);return y=function(){return e},e}function N(){var e=Object(r.a)([\"\\n    mutation eliminarProducto($id : ID!) {\\n        eliminarProducto(id : $id)\\n    }\\n\"]);return N=function(){return e},e}var g=Object(i.a)(N()),v=Object(i.a)(y()),P=function(e){var t=e.producto,n=t.id,r=t.nombre,o=t.precio,a=t.existencia,c=Object(m.a)(g,{update:function(e){var t=e.readQuery({query:v}).obtenerProductos;e.writeQuery({query:v,data:{obtenerProductos:t.filter((function(e){return e.id!==n}))}})}}),i=Object(p.a)(c,1)[0];return h(\"tr\",null,h(\"td\",{className:\"border px-4 py-2\"},r),h(\"td\",{className:\"border px-4 py-2\"},a,\" Piezas\"),h(\"td\",{className:\"border px-4 py-2\"},\"$ \",o),h(\"td\",{className:\"border px-4 py-2\"},h(\"button\",{type:\"button\",className:\"flex justify-center items-center bg-red-800 py-2 px-4 w-full text-white rounded text-xs uppercase font-bold\",onClick:function(){return function(e){x.a.fire({title:\"\\xbfEst\\xe1s seguro de eliminar el producto \".concat(r,\"?\"),text:\"No se podr\\xe1 deshacer esta acci\\xf3n\",icon:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Si, b\\xf3rralo!\",cancelButtonText:\"No, canc\\xe9lalo\"}).then(function(){var t=Object(d.a)(l.a.mark((function t(n){var r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=13;break}return t.prev=1,t.next=4,i({variables:{id:e}});case 4:r=t.sent,o=r.data,console.log(o),x.a.fire(\"Producto ELiminado!\",o.eliminarProducto,\"success\"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case\"end\":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}())}(n)}},\"Eliminar\",h(\"svg\",{className:\"w-4 h-4 ml-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},h(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"})))),h(\"td\",{className:\"border px-4 py-2\"},h(\"button\",{type:\"button\",className:\"flex justify-center items-center bg-green-600 py-2 px-4 w-full text-white rounded text-xs uppercase font-bold\",onClick:function(){f.a.push({pathname:\"/editarProducto/[id]\",query:{id:n}})}},\"Editar\",h(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 ml-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:\"2\"},h(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"})))))},k=n(\"YFqc\"),j=n.n(k),E=a.a.createElement;function O(){var e=Object(r.a)([\"\\n    query obtenerProductos{\\n        obtenerProductos{\\n            id\\n            nombre\\n            precio\\n            existencia\\n        }\\n    }\\n\"]);return O=function(){return e},e}var _=Object(i.a)(O());t.default=function(){var e=Object(u.a)(_),t=e.data,n=e.loading;e.error;return n?\"cargando\":(console.log(t),E(a.a.Fragment,null,E(c.a,null,E(\"h1\",{className:\"text-2xl text-gray-800 font-light\"},\"Productos\"),E(j.a,{href:\"/nuevoproducto\"},E(\"a\",{className:\"bg-blue-800 py-2 px-5 mt-5 inline-block text-white rounded text-sm hover:bg-gray-800 mb-3 uppercase font-bold\"},\"Nuevo Producto\")),E(\"table\",{className:\"table-auto shadow-md mt-10 w-full w-lg\"},E(\"thead\",{className:\"bg-gray-800\"},E(\"tr\",{className:\"text-white\"},E(\"th\",{className:\"w-1/5 py-2\"},\"Nombre Producto\"),E(\"th\",{className:\"w-1/5 py-2\"},\"Cantidad Producto\"),E(\"th\",{className:\"w-1/5 py-2\"},\"Precio\"),E(\"th\",{className:\"w-1/5 py-2\"},\"Eliminar\"),E(\"th\",{className:\"w-1/5 py-2\"},\"Editar\"))),E(\"tbody\",{className:\"bg-white\"},t.obtenerProductos.map((function(e){return E(P,{key:e.id,producto:e})})))))))}}},[[\"HGzH\",0,2,1,3,4,5,6]]]);","extractedComments":[]}