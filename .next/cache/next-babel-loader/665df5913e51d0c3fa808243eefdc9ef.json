{"ast":null,"code":"import React, { useState } from 'react';\nimport axios from 'axios';\nexport const useS3Upload = () => {\n  const {\n    0: s3State,\n    1: setS3State\n  } = useState({\n    name: \"\",\n    file: \"\"\n  });\n\n  const uploadToS3 = async (file, signedRequest) => {\n    const options = {\n      headers: {\n        \"Content-Type\": file.type\n      }\n    };\n    const res = await axios.put(signedRequest, file, options);\n    return res;\n  };\n\n  const formatFilename = filename => {\n    const date = moment().format(\"YYYYMMDD\");\n    const randomString = Math.random().toString(36).substring(2, 7);\n    const cleanFileName = filename.toLowerCase().replace(/[^a-z0-9]/g, \"-\");\n    const newFilename = `images/${date}-${randomString}-${cleanFileName}`;\n    return newFilename.substring(0, 60);\n  };\n\n  return {\n    s3State,\n    setS3State,\n    formatFilename,\n    uploadToS3\n  };\n};","map":{"version":3,"sources":["D:/Programming/Trabajo/Javascript/MGRN/EcommercePointi/client/hooks/useS3Upload.js"],"names":["React","useState","axios","useS3Upload","s3State","setS3State","name","file","uploadToS3","signedRequest","options","headers","type","res","put","formatFilename","filename","date","moment","format","randomString","Math","random","toString","substring","cleanFileName","toLowerCase","replace","newFilename"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC7B,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBJ,QAAQ,CAAC;AACnCK,IAAAA,IAAI,EAAG,EAD4B;AAEnCC,IAAAA,IAAI,EAAG;AAF4B,GAAD,CAAtC;;AAIA,QAAMC,UAAU,GAAG,OAAOD,IAAP,EAAaE,aAAb,KAA+B;AAC9C,UAAMC,OAAO,GAAG;AACZC,MAAAA,OAAO,EAAE;AACT,wBAAgBJ,IAAI,CAACK;AADZ;AADG,KAAhB;AAKA,UAAMC,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAUL,aAAV,EAAyBF,IAAzB,EAA+BG,OAA/B,CAAlB;AACA,WAAOG,GAAP;AACH,GARD;;AAUA,QAAME,cAAc,GAAGC,QAAQ,IAAI;AAC/B,UAAMC,IAAI,GAAGC,MAAM,GAAGC,MAAT,CAAgB,UAAhB,CAAb;AACA,UAAMC,YAAY,GAAGC,IAAI,CAACC,MAAL,GAClBC,QADkB,CACT,EADS,EAElBC,SAFkB,CAER,CAFQ,EAEL,CAFK,CAArB;AAGA,UAAMC,aAAa,GAAGT,QAAQ,CAACU,WAAT,GAAuBC,OAAvB,CAA+B,YAA/B,EAA6C,GAA7C,CAAtB;AACA,UAAMC,WAAW,GAAI,UAASX,IAAK,IAAGG,YAAa,IAAGK,aAAc,EAApE;AACA,WAAOG,WAAW,CAACJ,SAAZ,CAAsB,CAAtB,EAAyB,EAAzB,CAAP;AACD,GARH;;AAUF,SAAO;AACLpB,IAAAA,OADK;AAELC,IAAAA,UAFK;AAGLU,IAAAA,cAHK;AAILP,IAAAA;AAJK,GAAP;AAMD,CA/BM","sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios';\r\nexport const useS3Upload = () => {\r\n    const [s3State, setS3State] = useState({\r\n        name : \"\",\r\n        file : \"\"\r\n    });\r\n    const uploadToS3 = async (file, signedRequest) => {\r\n        const options = {\r\n            headers: {\r\n            \"Content-Type\": file.type\r\n            }\r\n        };\r\n        const res = await axios.put(signedRequest, file, options);\r\n        return res;\r\n    };\r\n    \r\n    const formatFilename = filename => {\r\n        const date = moment().format(\"YYYYMMDD\");\r\n        const randomString = Math.random()\r\n          .toString(36)\r\n          .substring(2, 7);\r\n        const cleanFileName = filename.toLowerCase().replace(/[^a-z0-9]/g, \"-\");\r\n        const newFilename = `images/${date}-${randomString}-${cleanFileName}`;\r\n        return newFilename.substring(0, 60);\r\n      };\r\n    \r\n  return {\r\n    s3State,\r\n    setS3State,\r\n    formatFilename,\r\n    uploadToS3\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}