{"ast":null,"code":"import _regeneratorRuntime from \"D:/Cursos/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Cursos/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/Cursos/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"D:/Cursos/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Cursos\\\\React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL\\\\Ejercicios\\\\cliente\\\\clientecrm\\\\pages\\\\nuevacuenta.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation nuevoUsuario($input: UsuarioInput) {\\n        nuevoUsuario(input:$input) {\\n            id\\n            nombre\\n            apellido\\n            email\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport Layout from '../components/Layout';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { useMutation, gql } from '@apollo/client';\nvar NUEVA_CUENTA = gql(_templateObject());\n\nvar NuevaCuenta = function NuevaCuenta() {\n  _s();\n\n  //State para el mensaje\n  var _useState = useState(null),\n      mensaje = _useState[0],\n      guardarMensaje = _useState[1]; //Mutation para crear nuevos usuarios\n\n\n  var _useMutation = useMutation(NUEVA_CUENTA),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      nuevoUsuario = _useMutation2[0]; //Validación el formulario\n\n\n  var formik = useFormik({\n    initialValues: {\n      nombre: 'Holi',\n      apellido: '',\n      email: '',\n      password: ''\n    },\n    validationSchema: Yup.object({\n      nombre: Yup.string().required(\"El nombre es obligatorio\"),\n      apellido: Yup.string().required(\"El apellido es obligatorio\"),\n      email: Yup.string().email(\"El email no es valido\").required('El email es obligatorio'),\n      password: Yup.string().required(\"El password no puede ir vacio\").min(6, 'El password no puede ir vacio')\n    }),\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(valores) {\n        var nombre, apellido, email, password, _yield$nuevoUsuario, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('enviando');\n                console.log(valores); //Destructuring de los valores del formulario\n\n                nombre = valores.nombre, apellido = valores.apellido, email = valores.email, password = valores.password;\n                _context.prev = 3;\n                _context.next = 6;\n                return nuevoUsuario({\n                  variables: {\n                    input: {\n                      nombre: nombre,\n                      apellido: apellido,\n                      email: email,\n                      password: password\n                    }\n                  }\n                });\n\n              case 6:\n                _yield$nuevoUsuario = _context.sent;\n                data = _yield$nuevoUsuario.data;\n                console.log(data); //Usuario creado correctamente\n                //Redirigir Usuario para iniciar sesión\n\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 11]]);\n      }));\n\n      function onSubmit(_x) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  }); //Mostrar mensjae\n\n  var mostrarMensaje = function mostrarMensaje() {\n    return __jsx(\"div\", {\n      className: \"bg-white py-2 px-3 w-full my-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, mensaje));\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, mensaje && mostrarMensaje(), __jsx(\"h1\", {\n    className: \"text-center text-2xl text-white font-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Crear Nueva Cuenta\"), __jsx(\"div\", {\n    className: \"flex justify-center mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"w-full max-w-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, __jsx(\"form\", {\n    className: \"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\",\n    onSubmit: formik.handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-gray-700 text-sm font-bold mb-2\",\n    htmlFor: \"nombre\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  }, \"Nombre\"), __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"nombre\",\n    type: \"text\",\n    placeholder: \"Nombre  Usuario\",\n    value: formik.values.nombre,\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  })), formik.touched.nombre && formik.errors.nombre ? __jsx(\"div\", {\n    className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 35\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 35\n    }\n  }, \" \", formik.errors.nombre)) : null, __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-gray-700 text-sm font-bold mb-2\",\n    htmlFor: \"apellido\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, \"Apellido\"), __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"apellido\",\n    type: \"text\",\n    placeholder: \"Apellido Usuario\",\n    value: formik.values.apellido,\n    onChange: formik.handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  })), formik.touched.apellido && formik.errors.apellido ? __jsx(\"div\", {\n    className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 35\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 35\n    }\n  }, \" \", formik.errors.apellido)) : null, __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-gray-700 text-sm font-bold mb-2\",\n    htmlFor: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }, \"Email\"), __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"email\",\n    type: \"email\",\n    placeholder: \"Email Usuario\",\n    value: formik.values.email,\n    onChange: formik.handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  })), formik.touched.email && formik.errors.email ? __jsx(\"div\", {\n    className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 35\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 35\n    }\n  }, \" \", formik.errors.email)) : null, __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-gray-700 text-sm font-bold mb-2\",\n    htmlFor: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"password\",\n    type: \"password\",\n    placeholder: \"Password Usuario\",\n    value: formik.values.password,\n    onChange: formik.handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 33\n    }\n  })), formik.touched.password && formik.errors.password ? __jsx(\"div\", {\n    className: \"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 35\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 35\n    }\n  }, \" \", formik.errors.password)) : null, __jsx(\"input\", {\n    type: \"submit\",\n    className: \"bg-gray-800 w-full mt-5 p-2 text-white hover:bg-gray-900\",\n    value: \"Crear Cuenta\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }))))));\n};\n\n_s(NuevaCuenta, \"+QOBBW7o1zQhceuRpHi9SPnwD8c=\", false, function () {\n  return [useMutation, useFormik];\n});\n\n_c = NuevaCuenta;\nexport default NuevaCuenta;\n\nvar _c;\n\n$RefreshReg$(_c, \"NuevaCuenta\");","map":{"version":3,"sources":["D:/Cursos/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/pages/nuevacuenta.js"],"names":["React","useState","Layout","useFormik","Yup","useMutation","gql","NUEVA_CUENTA","NuevaCuenta","mensaje","guardarMensaje","nuevoUsuario","formik","initialValues","nombre","apellido","email","password","validationSchema","object","string","required","min","onSubmit","valores","console","log","variables","input","data","mostrarMensaje","handleSubmit","values","handleChange","handleBlur","touched","errors"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport Layout from '../components/Layout'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\nimport {useMutation, gql} from '@apollo/client'\r\n\r\nconst NUEVA_CUENTA = gql`\r\n    mutation nuevoUsuario($input: UsuarioInput) {\r\n        nuevoUsuario(input:$input) {\r\n            id\r\n            nombre\r\n            apellido\r\n            email\r\n        }\r\n    }\r\n`;\r\n\r\nconst NuevaCuenta = () => {\r\n    //State para el mensaje\r\n    const [mensaje, guardarMensaje] = useState(null);\r\n   //Mutation para crear nuevos usuarios\r\n    const [nuevoUsuario ] = useMutation(NUEVA_CUENTA);\r\n\r\n    //Validación el formulario\r\n    const formik= useFormik({\r\n        initialValues : {\r\n            nombre:'Holi',\r\n            apellido: '',\r\n            email: '',\r\n            password: ''\r\n        },\r\n        validationSchema : Yup.object({\r\n            nombre: Yup.string().required(\"El nombre es obligatorio\"),\r\n            apellido: Yup.string().required(\"El apellido es obligatorio\"),\r\n            email: Yup.string().email(\"El email no es valido\").required('El email es obligatorio'),\r\n            password: Yup.string().required(\"El password no puede ir vacio\").min(6, 'El password no puede ir vacio')\r\n        }),\r\n        onSubmit: async valores =>{\r\n            console.log('enviando');\r\n            console.log(valores);\r\n            //Destructuring de los valores del formulario\r\n            const {nombre, apellido, email,password} = valores\r\n            try {\r\n               const {data} = await nuevoUsuario({\r\n                   variables : {\r\n                       input : {\r\n                            nombre,\r\n                            apellido,\r\n                            email,\r\n                            password\r\n                       }\r\n                   }\r\n               })\r\n               console.log(data);\r\n               //Usuario creado correctamente\r\n\r\n               //Redirigir Usuario para iniciar sesión\r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n    });\r\n    \r\n    //Mostrar mensjae\r\n    const mostrarMensaje = () => {\r\n        return(\r\n            <div className=\"bg-white py-2 px-3 w-full my-3\">\r\n                <p>{mensaje}</p>\r\n                </div>\r\n        \r\n        )\r\n        \r\n    }\r\n    \r\n    return (  \r\n        <>\r\n            <Layout>\r\n                {mensaje && mostrarMensaje()}\r\n\r\n                <h1 className=\"text-center text-2xl text-white font-light\">Crear Nueva Cuenta</h1>\r\n                <div className=\"flex justify-center mt-5\">\r\n                    <div className=\"w-full max-w-sm\">\r\n                        <form \r\n                            className=\"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\"\r\n                            onSubmit={formik.handleSubmit}\r\n                        >\r\n                            \r\n                            <div className=\"mb-4\">\r\n                                <label className='block text-gray-700 text-sm font-bold mb-2' htmlFor=\"nombre\">\r\n                                    Nombre\r\n                                </label>\r\n                                <input\r\n                                    className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                    id=\"nombre\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Nombre  Usuario\"\r\n                                    value={formik.values.nombre}\r\n                                    onChange={formik.handleChange}\r\n                                    onBlur={formik.handleBlur}\r\n                                />\r\n                            </div>\r\n                            { formik.touched.nombre && formik.errors.nombre ? (\r\n                                <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                  <p className=\"font-bold\">Error</p>\r\n                                  <p> {formik.errors.nombre}</p>  \r\n                                </div>\r\n                            ): null}\r\n\r\n                            <div className=\"mb-4\">\r\n                                <label className='block text-gray-700 text-sm font-bold mb-2' htmlFor=\"apellido\">\r\n                                    Apellido\r\n                                </label>\r\n                                <input\r\n                                    className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                    id=\"apellido\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Apellido Usuario\"\r\n                                    value={formik.values.apellido}\r\n                                    onChange={formik.handleChange}\r\n                                />\r\n                            </div>\r\n                            { formik.touched.apellido && formik.errors.apellido ? (\r\n                                <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                  <p className=\"font-bold\">Error</p>\r\n                                  <p> {formik.errors.apellido}</p>  \r\n                                </div>\r\n                            ): null}\r\n                            <div className=\"mb-4\">\r\n                                <label className='block text-gray-700 text-sm font-bold mb-2' htmlFor=\"email\">\r\n                                    Email\r\n                                </label>\r\n                                <input\r\n                                    className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                    id=\"email\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"Email Usuario\"\r\n                                    value={formik.values.email}\r\n                                    onChange={formik.handleChange}\r\n                                />\r\n                            </div>\r\n                            { formik.touched.email && formik.errors.email ? (\r\n                                <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                  <p className=\"font-bold\">Error</p>\r\n                                  <p> {formik.errors.email}</p>  \r\n                                </div>\r\n                            ): null}\r\n                            <div className=\"mb-4\">\r\n                                <label className='block text-gray-700 text-sm font-bold mb-2' htmlFor=\"password\">\r\n                                    Password\r\n                                </label>\r\n                                <input\r\n                                    className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password Usuario\"\r\n                                    value={formik.values.password}\r\n                                    onChange={formik.handleChange}\r\n                                />\r\n                            </div>\r\n                            { formik.touched.password && formik.errors.password ? (\r\n                                <div className=\"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                  <p className=\"font-bold\">Error</p>\r\n                                  <p> {formik.errors.password}</p>  \r\n                                </div>\r\n                            ): null}\r\n                            <input\r\n                            type=\"submit\"\r\n                            className=\"bg-gray-800 w-full mt-5 p-2 text-white hover:bg-gray-900\" \r\n                            value=\"Crear Cuenta\"\r\n\r\n                            />\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n           \r\n            </Layout>\r\n        </>\r\n    );\r\n}\r\n \r\nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}