{"ast":null,"code":"import _slicedToArray from \"D:/Cursos/FrontEnd Javascript/Next/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"D:/Cursos/FrontEnd Javascript/Next/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Cursos\\\\FrontEnd Javascript\\\\Next\\\\React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL\\\\Ejercicios\\\\cliente\\\\clientecrm\\\\components\\\\pedidos\\\\AsignarProductos.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    query obtenerProductos{\\n        obtenerProductos{\\n            id\\n            nombre\\n            precio\\n            existencia\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport Select from 'react-select';\nimport { gql, useQuery } from '@apollo/client';\nvar OBTENER_PRODUCTOS = gql(_templateObject());\n\nvar AsignarProductos = function AsignarProductos() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      producto = _useState2[0],\n      setProductos = _useState2[1]; //Consulta a la bsae de datos\n\n\n  var _useQuery = useQuery(OBTENER_PRODUCTOS),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error; //Context e pedidos\n\n\n  var pedidoContext = useContext(PedidoContext);\n  var agregarCliente = pedidoContext.agregarCliente;\n  if (loading) return null;\n  var obtenerProductos = data.obtenerProductos;\n\n  var seleccionarProductos = function seleccionarProductos(productos) {\n    setProductos(productos);\n  };\n\n  useEffect(function () {\n    agregarProductos(producto);\n    return function () {};\n  }, [producto]);\n  return __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"mt-10 my-2 bg-white border-l-4 border-gray-800 text-gray-700 p-2 text-sm font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"2.- Selecciona o busca los productos\"), __jsx(Select, {\n    className: \"mt-3\",\n    options: obtenerProductos,\n    onChange: function onChange(option) {\n      return seleccionarProductos(option);\n    },\n    getOptionValue: function getOptionValue(opciones) {\n      return opciones.id;\n    },\n    getOptionLabel: function getOptionLabel(opciones) {\n      return \"\".concat(opciones.nombre, \" - \").concat(opciones.existencia, \" Disponibles\");\n    },\n    placeholder: 'Seleccione los productos',\n    noOptionsMessage: \"No hay resultados\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }));\n};\n\n_s(AsignarProductos, \"LgR/nS6t4jZiMhVvBSxVOIyEk0o=\", false, function () {\n  return [useQuery];\n});\n\n_c = AsignarProductos;\nexport default AsignarProductos;\n\nvar _c;\n\n$RefreshReg$(_c, \"AsignarProductos\");","map":{"version":3,"sources":["D:/Cursos/FrontEnd Javascript/Next/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/components/pedidos/AsignarProductos.js"],"names":["React","Select","gql","useQuery","OBTENER_PRODUCTOS","AsignarProductos","useState","producto","setProductos","data","loading","error","pedidoContext","useContext","PedidoContext","agregarCliente","obtenerProductos","seleccionarProductos","productos","useEffect","agregarProductos","option","opciones","id","nombre","existencia"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAAQC,GAAR,EAAaC,QAAb,QAA4B,gBAA5B;AACA,IAAMC,iBAAiB,GAAGF,GAAH,mBAAvB;;AAUA,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAAA;;AAAA,kBACMC,QAAQ,CAAC,EAAD,CADd;AAAA;AAAA,MACpBC,QADoB;AAAA,MACVC,YADU,kBAE3B;;;AAF2B,kBAGIL,QAAQ,CAACC,iBAAD,CAHZ;AAAA,MAGpBK,IAHoB,aAGpBA,IAHoB;AAAA,MAGdC,OAHc,aAGdA,OAHc;AAAA,MAGLC,KAHK,aAGLA,KAHK,EAM3B;;;AACA,MAAMC,aAAa,GAAGC,UAAU,CAACC,aAAD,CAAhC;AAP2B,MAQpBC,cARoB,GAQFH,aARE,CAQpBG,cARoB;AAS3B,MAAIL,OAAJ,EAAa,OAAO,IAAP;AATc,MAUpBM,gBAVoB,GAUAP,IAVA,CAUpBO,gBAVoB;;AAW3B,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,SAAD,EAAa;AACtCV,IAAAA,YAAY,CAACU,SAAD,CAAZ;AACH,GAFD;;AAGAC,EAAAA,SAAS,CAAC,YAAM;AACZC,IAAAA,gBAAgB,CAACb,QAAD,CAAhB;AACF,WAAO,YAAM,CAEZ,CAFD;AAGD,GALQ,EAKP,CAACA,QAAD,CALO,CAAT;AAMF,SACE,4BACI;AAAG,IAAA,SAAS,EAAC,oFAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADJ,EAEI,MAAC,MAAD;AACI,IAAA,SAAS,EAAC,MADd;AAEI,IAAA,OAAO,EAAIS,gBAFf;AAII,IAAA,QAAQ,EAAE,kBAACK,MAAD;AAAA,aAAUJ,oBAAoB,CAACI,MAAD,CAA9B;AAAA,KAJd;AAKI,IAAA,cAAc,EAAI,wBAACC,QAAD;AAAA,aAAYA,QAAQ,CAACC,EAArB;AAAA,KALtB;AAMI,IAAA,cAAc,EAAI,wBAACD,QAAD;AAAA,uBAAeA,QAAQ,CAACE,MAAxB,gBAAoCF,QAAQ,CAACG,UAA7C;AAAA,KANtB;AAOI,IAAA,WAAW,EAAI,0BAPnB;AAQI,IAAA,gBAAgB,EAAI,mBARxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADF;AAeD,CAnCD;;GAAMpB,gB;UAG6BF,Q;;;KAH7BE,gB;AAqCN,eAAeA,gBAAf","sourcesContent":["import React from 'react'\r\nimport Select from 'react-select'\r\nimport {gql, useQuery} from '@apollo/client'\r\nconst OBTENER_PRODUCTOS = gql`\r\n    query obtenerProductos{\r\n        obtenerProductos{\r\n            id\r\n            nombre\r\n            precio\r\n            existencia\r\n        }\r\n    }\r\n`\r\nconst AsignarProductos = () => {\r\n    const [producto, setProductos] = useState([]);\r\n    //Consulta a la bsae de datos\r\n    const {data, loading, error} = useQuery(OBTENER_PRODUCTOS);\r\n    \r\n    \r\n    //Context e pedidos\r\n    const pedidoContext = useContext(PedidoContext);\r\n    const {agregarCliente} = pedidoContext;\r\n    if (loading) return null;\r\n    const {obtenerProductos} = data;\r\n    const seleccionarProductos = (productos)=>{\r\n        setProductos(productos)\r\n    }\r\n    useEffect(() => {\r\n        agregarProductos(producto);\r\n      return () => {\r\n        \r\n      }\r\n    },[producto])\r\n  return (\r\n    <>\r\n        <p className='mt-10 my-2 bg-white border-l-4 border-gray-800 text-gray-700 p-2 text-sm font-bold'>2.- Selecciona o busca los productos</p>\r\n        <Select\r\n            className='mt-3'\r\n            options = {obtenerProductos}\r\n            \r\n            onChange={(option)=>seleccionarProductos(option)}\r\n            getOptionValue = {(opciones)=>opciones.id}\r\n            getOptionLabel = {(opciones)=>`${opciones.nombre} - ${opciones.existencia} Disponibles`}\r\n            placeholder = {'Seleccione los productos'}\r\n            noOptionsMessage = {\"No hay resultados\"}\r\n        />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AsignarProductos"]},"metadata":{},"sourceType":"module"}