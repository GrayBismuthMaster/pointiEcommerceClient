{"ast":null,"code":"var _jsxFileName = \"D:\\\\Cursos\\\\FrontEnd Javascript\\\\Next\\\\React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL\\\\Ejercicios\\\\cliente\\\\clientecrm\\\\components\\\\pedidos\\\\AsignarCliente.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useContext } from 'react';\nimport Select from 'react-select';\nimport { gql, useQuery } from '@apollo/client';\nimport PedidoContext from '../../context/pedidos/PedidoContext';\nconst OBTENER_CLIENTES_USUARIO = gql`\n  query obtenerClientesVendedor {\n    obtenerClientesVendedor {\n      id\n      nombre\n      apellido\n      empresa\n      email\n    }\n  }\n`;\n\nconst AsignarCliente = () => {\n  const {\n    0: cliente,\n    1: setClientes\n  } = useState([]); //Context e pedidos\n\n  const pedidoContext = useContext(PedidoContext);\n  const {\n    agregarCliente\n  } = pedidoContext; //COnsultar la base de datos\n\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(OBTENER_CLIENTES_USUARIO);\n  console.log(data);\n  useEffect(() => {\n    agregarCliente(cliente);\n    return () => {};\n  }, [cliente]);\n\n  const seleccionarCliente = clientes => {\n    setClientes(clientes);\n  };\n\n  if (loading) return \"cargando ...\";\n  const {\n    obtenerClientesVendedor\n  } = data;\n  return __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"mt-10 my-2 bg-white border-l-4 border-gray-800 text-gray-700 p-2 text-sm font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"1.- Asigna un cliente al pedido\"), __jsx(Select, {\n    className: \"mt-3\",\n    options: obtenerClientesVendedor,\n    onChange: option => seleccionarCliente(option),\n    getOptionValue: opciones => opciones.id,\n    getOptionLabel: opciones => opciones.nombre,\n    placeholder: 'Seleccione el cliente',\n    noOptionsMessage: \"NO hay ese cliente\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default AsignarCliente;","map":{"version":3,"sources":["D:/Cursos/FrontEnd Javascript/Next/React Avanzado Fullstack Next.js, Apollo, MongoDB y GraphQL/Ejercicios/cliente/clientecrm/components/pedidos/AsignarCliente.js"],"names":["React","useEffect","useState","useContext","Select","gql","useQuery","PedidoContext","OBTENER_CLIENTES_USUARIO","AsignarCliente","cliente","setClientes","pedidoContext","agregarCliente","data","loading","error","console","log","seleccionarCliente","clientes","obtenerClientesVendedor","option","opciones","id","nombre"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAAQC,GAAR,EAAaC,QAAb,QAA4B,gBAA5B;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,MAAMC,wBAAwB,GAAGH,GAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAVA;;AAYA,MAAMI,cAAc,GAAG,MAAM;AAC3B,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAyBT,QAAQ,CAAC,EAAD,CAAvC,CAD2B,CAE3B;;AACA,QAAMU,aAAa,GAAGT,UAAU,CAACI,aAAD,CAAhC;AACA,QAAM;AAACM,IAAAA;AAAD,MAAmBD,aAAzB,CAJ2B,CAM3B;;AACA,QAAM;AAACE,IAAAA,IAAD;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA;AAAhB,MAAyBV,QAAQ,CAACE,wBAAD,CAAvC;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,cAAc,CAACH,OAAD,CAAd;AAEF,WAAO,MAAM,CAEZ,CAFD;AAGD,GANU,EAMR,CAACA,OAAD,CANQ,CAAT;;AAQF,QAAMS,kBAAkB,GAAGC,QAAQ,IAAI;AACnCT,IAAAA,WAAW,CAACS,QAAD,CAAX;AACH,GAFD;;AAGE,MAAIL,OAAJ,EAAa,OAAO,cAAP;AAEb,QAAM;AAACM,IAAAA;AAAD,MAA4BP,IAAlC;AAEA,SACE,4BACE;AAAG,IAAA,SAAS,EAAC,oFAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADF,EAEE,MAAC,MAAD;AACM,IAAA,SAAS,EAAC,MADhB;AAEM,IAAA,OAAO,EAAIO,uBAFjB;AAIM,IAAA,QAAQ,EAAGC,MAAD,IAAUH,kBAAkB,CAACG,MAAD,CAJ5C;AAKM,IAAA,cAAc,EAAKC,QAAD,IAAYA,QAAQ,CAACC,EAL7C;AAMM,IAAA,cAAc,EAAKD,QAAD,IAAYA,QAAQ,CAACE,MAN7C;AAOM,IAAA,WAAW,EAAI,uBAPrB;AAQM,IAAA,gBAAgB,EAAI,oBAR1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAgBD,CAzCD;;AA2CA,eAAehB,cAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\r\nimport Select from 'react-select'\r\nimport {gql, useQuery} from '@apollo/client';\r\nimport PedidoContext from '../../context/pedidos/PedidoContext';\r\nconst OBTENER_CLIENTES_USUARIO = gql`\r\n  query obtenerClientesVendedor {\r\n    obtenerClientesVendedor {\r\n      id\r\n      nombre\r\n      apellido\r\n      empresa\r\n      email\r\n    }\r\n  }\r\n`\r\n\r\nconst AsignarCliente = () => {\r\n  const [cliente, setClientes] = useState([]);\r\n  //Context e pedidos\r\n  const pedidoContext = useContext(PedidoContext);\r\n  const {agregarCliente} = pedidoContext;\r\n\r\n  //COnsultar la base de datos\r\n  const {data, loading, error} = useQuery(OBTENER_CLIENTES_USUARIO);\r\n  console.log(data)\r\n  \r\n  useEffect(() => {\r\n    agregarCliente(cliente);\r\n\r\n  return () => {\r\n    \r\n  }\r\n}, [cliente])\r\n\r\nconst seleccionarCliente = clientes => {\r\n    setClientes(clientes);\r\n}\r\n  if (loading) return \"cargando ...\"\r\n\r\n  const {obtenerClientesVendedor} = data;\r\n\r\n  return (\r\n    <>\r\n      <p className='mt-10 my-2 bg-white border-l-4 border-gray-800 text-gray-700 p-2 text-sm font-bold'>1.- Asigna un cliente al pedido</p>\r\n      <Select\r\n            className='mt-3'\r\n            options = {obtenerClientesVendedor}\r\n             \r\n            onChange={(option)=>seleccionarCliente(option)}\r\n            getOptionValue = {(opciones)=>opciones.id}\r\n            getOptionLabel = {(opciones)=>opciones.nombre}\r\n            placeholder = {'Seleccione el cliente'}\r\n            noOptionsMessage = {\"NO hay ese cliente\"}\r\n      />\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default AsignarCliente"]},"metadata":{},"sourceType":"module"}