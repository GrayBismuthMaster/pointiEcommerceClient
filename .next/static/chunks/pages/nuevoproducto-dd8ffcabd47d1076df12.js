_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{C01a:function(e,r,o){"use strict";o.r(r);var n=o("o0o1"),t=o.n(n),a=o("HaE+"),c=o("KQm4"),i=o("ODXe"),s=o("h4VS"),u=(o("YFqc"),o("q1tI")),l=o.n(u),d=o("5Yp1"),p=o("KYPV"),b=o("UGp+"),m=o("UYTu"),h=o("pZLH"),g=o("PSD3"),f=o.n(g),x=o("nOHt"),v=o.n(x),w=o("Q+mk"),N=l.a.createElement;function y(){var e=Object(s.a)(["\n    query obtenerProductos{\n        obtenerProductos{\n            id\n            nombre\n            precio\n            existencia\n        }\n    }\n"]);return y=function(){return e},e}function P(){var e=Object(s.a)(["\n    mutation nuevoProducto($input : ProductoInput){\n        nuevoProducto(input : $input){\n            id\n            nombre\n            existencia\n            precio\n        }\n    }\n"]);return P=function(){return e},e}var O=Object(m.a)(P()),j=Object(m.a)(y());r.default=function(){var e=Object(w.a)().addMessage,r=Object(h.a)(O,{update:function(e,r){var o=r.data.nuevoProducto,n=e.readQuery({query:j}).obtenerProductos;console.log("Obtener productos desde update",n),e.writeQuery({query:j,data:{obtenerProductos:[].concat(Object(c.a)(n),[o])}})}}),o=Object(i.a)(r,1)[0],n=Object(p.b)({initialValues:{nombre:"",existencia:"",precio:""},validationSchema:b.b({nombre:b.c().required("El nombre del producto es obligatorio"),existencia:b.a().required("Agrega la cantidad disponible").positive("No se aceptan n\xfameros negativos").integer("La existencia deben ser enteros"),precio:b.a().required("El precio es obligatorio").positive(" Los n\xfameros deben ser positivos")}),onSubmit:function(){var r=Object(a.a)(t.a.mark((function r(n){var c,i,s,u;return t.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=n.nombre,i=n.existencia,s=n.precio,void 0===window){r.next=15;break}return r.next=4,e("Se agreg\xf3 el producto ".concat(c));case 4:return r.prev=4,r.next=7,o({variables:{input:{nombre:c,existencia:i,precio:s}}});case 7:u=r.sent,console.log("Producto desde nuevo Producto",u),f.a.fire("Creado","Se cre\xf3 el producto correctamente","success").then(Object(a.a)(t.a.mark((function e(){return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.push("/productos");case 2:case"end":return e.stop()}}),e)})))),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[4,12]])})));return function(e){return r.apply(this,arguments)}}()});return N(d.a,null,N("h1",{className:"text-2xl text-gray-800 font-light "},"Crear nuevo producto"),N("div",{className:"flex justify-center mt-5"},N("div",{className:"w-full max-w-lg"},N("form",{className:"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4",onSubmit:n.handleSubmit},N("div",{className:"mb-4"},N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nombre"},"Nombre"),N("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"nombre",type:"text",placeholder:"Nombre",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.nombre})),n.touched.nombre&&n.errors.nombre?N("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},N("p",{className:"font-bold"},"Error"),N("p",null," ",n.errors.nombre)):null,N("div",{className:"mb-4"},N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nombre"},"Cantidad Disponible"),N("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"existencia",type:"number",placeholder:"Cantidad Disponible",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.existencia})),n.touched.existencia&&n.errors.existencia?N("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},N("p",{className:"font-bold"},"Error"),N("p",null," ",n.errors.existencia)):null,N("div",{className:"mb-4"},N("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nombre"},"Precio"),N("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"precio",type:"number",placeholder:"Precio Producto",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.precio})),n.touched.precio&&n.errors.precio?N("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},N("p",{className:"font-bold"},"Error"),N("p",null," ",n.errors.precio)):null,N("input",{type:"submit",className:"bg-gray-800 w-full mt-5 p-2 text-white uppercase font-bold hover:bg-gray-900",value:"Agregar Producto"})))))}},J4cM:function(e,r,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nuevoproducto",function(){return o("C01a")}])}},[["J4cM",0,2,1,3,4,5,6,7]]]);